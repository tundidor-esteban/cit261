<html>
  <head>
    <title>CIT 261 - Esteban Tundidor</title>
    <link rel="stylesheet" href="../css/style.css">
	  <script src="../js/javascript.js"></script>
    <script src="../js/json.js"></script>
  </head>
  <body>
<div>
  <div class="back"><a href="../index.html"><- Back to Menu</a></div>

  <h2>
    JSON
  </h2>
  <h3>JavaScript Object Notation</h3>
  <div id="mainContent">
    <h3>Definition</h3>
    <p>JSON is a very lightweight syntax for storing and exchanging data. It was initially design for JavaScript but now is commonly used in many languages as exchange format.</p>
    <p>
      JSON uses human readable text to transmit data objects consisting of attributeâ€“value pairs and array data types. Nowdays it is a very common format in many systems and languages.
    </p>
    <p>
      Even when JSON is, literally, a plain text with a key-value format in a hierarchical structure, you are able to define some native values: 
    </p>
    <ul>
      <li>String</li>
      <li>Number</li>
      <li>true / false</li>
      <li>null</li>
      <li>Object</li>
      <li>Array</li>
    </ul>
    <p>By convention these are the accepted formats, but is responsibility of the parser to convert it to the proper class in the client system.</p>

    <h4>Example</h4>
    <pre class="code">
      {
        "firstname":"Roger", //String
        "lastname":"Federer",
        "occupation":"Professional Tennis Player",
        "bachelor": null, // Null
        "gender":"Male",
        "age": 38, // Number
        "atp_number_1": false, // false
        "was_number_1": true, // true
        "titles" : [ // Array
          {"Tournament":"Wimbledon","year":2003}, //object
          {"Tournament":"Australian Open","year":2004},
          ....
        ]
      }
    </pre>
    <h4>Working example</h4>
    <ul id="menuExample"></ul>

    <h3>JSON Parse</h3>
    <span>The JSON.parse() method parses a JSON string, constructing the JavaScript value or object described by the string. </span>
    <h4>Syntax</h4>
    <p>
        <pre>JSON.parse(text[, reviver])</pre>
    </p>
    <div>
    <b>Parameters</b><br/>
    <ul>
      <li>text: The string to parse as JSON. See the JSON object for a description of JSON syntax.
      </li>
      <li>reviver (Optional): If a function, this prescribes how the value originally produced by parsing is transformed, before being returned.
      </li>
    </div>
    <h4>Example</h4>
    <div>You can check it working on this site home page and the file <pre>js/javascript.js</pre></div>
    <pre class="code">
      var topics = '['
                +'{"title":"JavaScript","url":"javascript.html"},'
              +'{"title":"JavaScript Objects","url":"jsobjects.html"},'
              +'{"title":"JSON","url":"json.html"},'
              +'{"title":"AJAX","url":"ajax.html"},'
              +'{"title":"Local Storage","url":"localstorage.html"},'
              +'{"title":"Document Object Model","url":"dom.html"},'
              +'{"title":"CSS3 Using JavaScript","url":"cssUsingJS.html"},'
              +'{"title":"CSS3 Transitions, Animations, and Transformations","url":"transitions.html"},'
              +'{"title":"JavaScript Events","url":"events.html"},'
              +'{"title":"HTML5 Tags for Media","url":"media.html"},'
              +'{"title":"CSS3 Transitions","url":"cssTransitions.html"},'
              +'{"title":"CSS3 Transforms","url":"cssTransforms.html"},'
              +'{"title":"CSS3 Animations","url":"cssAnimations.html"}'
                +']';

      function displayMenu() {
          var elements = JSON.parse(topics);
          var ol = document.getElementById("menu");
          if (typeof(ol) != 'undefined' && ol != null){
            for (var i = 0; i < elements.length ; i++) {
                var li = document.createElement("li");
                var a = document.createElement("a");
                
                a.appendChild(document.createTextNode(elements[i].title));
                a.title = elements[i].title;
                a.href = 'topics/' + elements[i].url;

                li.appendChild(a);
                ol.appendChild(li);
            }
          }
      }</pre>
    <h3>JSON Stringify</h3>
    <span>To convert a JavaScript object into a string we use stringify.</span>
    <h4>Syntax</h4>
    <p>
        <pre>JSON.stringify(json)</pre>
    </p>
    <h4>Example</h4>
    <pre class="code">
    var elements = JSON.parse(topics);
    var string = JSON.stringify(elements[Math.floor(Math.random() * elements.length)]);
    document.getElementById("div_stringify").innerHTML = string;</pre>
    <button id="btn_stringify">Try it!</button><br/>
    <small>(it will parse an show a random object)</small>
    <div id="div_stringify"></div>
  </div>
</div>
<footer>
  &copy;Esteban Tundidor
</footer>
  </body>
</html> 
